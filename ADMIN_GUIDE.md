# 관리자 사용 가이드

AI 혁신 발표 투표 시스템의 관리자 기능 사용 방법을 안내합니다.

## 접속 정보

### 로컬 환경
- **URL**: http://localhost:3000/admin/login
- **비밀번호**: `admin2024` (`.env.local`에서 변경 가능)

### 프로덕션 환경
- **URL**: https://your-app.vercel.app/admin/login
- **비밀번호**: Vercel 환경변수 `ADMIN_PASSWORD`에 설정한 값

## 관리자 로그인

1. `/admin/login` 페이지 접속
2. 관리자 비밀번호 입력
3. "로그인" 버튼 클릭

> **참고**: 비밀번호는 브라우저 sessionStorage에 저장되어 탭을 닫으면 자동으로 삭제됩니다.

## 대시보드 기능

### 1. 헤더 영역
- **새로고침 버튼**: 수동으로 통계 업데이트
- **로그아웃 버튼**: 관리자 세션 종료

### 2. 통계 요약
세 가지 주요 정보를 한눈에 확인:

#### 총 참여자
- 현재까지 투표한 총 참여자 수
- 최소 1개 이상 투표한 사용자 포함

#### 투표 상태
- **진행 중** (녹색): 참여자들이 투표 가능
- **종료됨** (빨간색): 투표가 종료되어 수정 불가

#### 투표 제어
- **투표 종료** 버튼: 진행 중일 때 표시
- **투표 시작** 버튼: 종료되었을 때 표시

### 3. 순위 및 통계 테이블

모든 발표의 투표 현황을 평균 별점 순으로 정렬하여 표시합니다.

| 컬럼 | 설명 |
|------|------|
| **순위** | 평균 별점 기준 내림차순 순위 |
| **팀명** | 발표 팀 이름 |
| **발표 제목** | 발표 주제 |
| **투표 수** | 해당 발표에 투표한 참여자 수 |
| **평균 별점** | 소수점 둘째 자리까지 표시 |

**정렬 기준**: 평균 별점이 높은 순서대로 자동 정렬

### 4. 개별 투표 내역 테이블

모든 참여자의 상세 투표 내역을 확인할 수 있습니다.

| 컬럼 | 설명 |
|------|------|
| **참여자 ID** | 익명 세션 ID (앞 12자리만 표시) |
| **투표 수** | 해당 참여자가 투표한 발표 개수 |
| **발표별 점수** | 각 발표 ID와 부여한 별점 표시 |

**예시**: `#1: 5★, #2: 4★, #3: 5★` → 발표 1번에 5점, 2번에 4점, 3번에 5점

## 주요 작업 시나리오

### 시나리오 1: 행사 시작 전 준비

```
1. 관리자 페이지 접속
2. 투표 상태 확인 (진행 중인지)
3. 순위 테이블이 비어있는지 확인
4. 필요시 테스트 투표 후 삭제 (서버 재시작)
```

### 시나리오 2: 행사 진행 중 모니터링

```
1. 자동 새로고침(10초)으로 실시간 확인
2. 총 참여자 수 증가 확인
3. 각 발표별 투표 수 모니터링
4. 현재 순위 변동 체크
```

### 시나리오 3: 투표 종료

```
1. "투표 종료" 버튼 클릭
2. 확인 모달에서 "확인" 클릭
3. 투표 상태가 "종료됨"으로 변경 확인
4. 최종 순위 스크린샷 저장 (선택사항)
```

### 시나리오 4: 투표 재개 (필요시)

```
1. "투표 시작" 버튼 클릭
2. 확인 모달에서 "확인" 클릭
3. 참여자들이 다시 투표 가능
```

## 투표 제어 상세

### 투표 종료 시
- 확인 모달: "투표를 종료하시겠습니까? 종료 후에는 참여자들이 더 이상 투표할 수 없습니다."
- 종료 후 효과:
  - 참여자 화면에 "투표가 종료되었습니다" 메시지 표시
  - 별점 버튼 비활성화
  - 기존 투표 내용은 유지되어 조회 가능

### 투표 재개 시
- 확인 모달: "투표를 다시 시작하시겠습니까?"
- 재개 후 효과:
  - 참여자들이 다시 투표/수정 가능
  - 기존 투표 데이터는 유지

## 데이터 새로고침

### 자동 새로고침
- **주기**: 10초마다 자동 업데이트
- **표시**: "새로고침 중..." 텍스트 표시
- **적용 범위**: 통계, 순위, 개별 투표 내역 모두

### 수동 새로고침
- 헤더의 "새로고침" 버튼 클릭
- 즉시 최신 데이터 로드

## 통계 해석 가이드

### 평균 별점 해석
- **4.5~5.0**: 매우 우수
- **4.0~4.4**: 우수
- **3.5~3.9**: 양호
- **3.0~3.4**: 보통
- **3.0 미만**: 개선 필요

### 투표 수 체크
- 총 참여자 수와 각 발표별 투표 수를 비교
- 모든 참여자가 모든 발표에 투표하지 않을 수 있음
- 투표 수가 적은 발표는 순위 해석 시 주의

### 순위 동점 처리
- 평균 별점이 같으면 발표 ID 순서대로 표시
- 동점자 발표는 함께 시상 고려

## 보안 관련

### 비밀번호 변경
로컬 환경:
```env
# .env.local 파일 수정
ADMIN_PASSWORD=new_password_here
```

Vercel 배포 환경:
1. Vercel 대시보드 접속
2. 프로젝트 선택
3. Settings > Environment Variables
4. `ADMIN_PASSWORD` 수정
5. 재배포

### 세션 관리
- 관리자 비밀번호는 브라우저 sessionStorage에 저장
- 탭을 닫으면 자동으로 삭제
- 다른 사람과 컴퓨터를 공유할 경우 반드시 로그아웃

### 접근 제한
- 관리자 URL(`/admin`)은 비밀번호 없이 접근 불가
- API 호출 시마다 비밀번호 인증 수행
- 잘못된 비밀번호 입력 시 로그인 페이지로 리다이렉트

## 문제 해결

### 로그인이 되지 않을 때
1. 비밀번호 확인
   - 로컬: `.env.local` 파일의 `ADMIN_PASSWORD`
   - 프로덕션: Vercel 환경변수
2. 서버 재시작 (로컬인 경우)
3. 브라우저 캐시 삭제 후 재시도

### 통계가 업데이트되지 않을 때
1. "새로고침" 버튼 클릭
2. 브라우저 새로고침 (F5)
3. 참여자가 실제로 투표했는지 확인

### 투표 종료가 작동하지 않을 때
1. 확인 모달에서 "확인" 클릭 여부 확인
2. 네트워크 연결 상태 확인
3. 브라우저 콘솔 에러 메시지 확인

### 데이터가 사라졌을 때
- **로컬 환경**: 서버 재시작 시 메모리 기반 데이터 초기화됨 (정상 동작)
- **프로덕션**: Vercel Postgres 사용 시 데이터 영구 저장

## 카카오톡 공유 안내문 템플릿

참여자들에게 전달할 메시지 예시:

```
📊 AI 혁신 발표 투표 안내

안녕하세요!
오늘 발표하신 팀들의 혁신 사례에 대해
여러분의 소중한 평가를 부탁드립니다.

🔗 투표 링크: [배포된 URL]

📱 사용 방법:
1. 위 링크 클릭
2. 각 발표에 대해 1~5점 별점 선택
3. 자동 저장됩니다 (로그인 불필요)
4. 투표 종료 전까지 수정 가능

⏰ 투표 마감: [시간]

감사합니다!
```

## 결과 발표 방법

### 최종 결과 스크린샷
1. 투표 종료 직후 순위 테이블 캡처
2. 총 참여자 수 함께 표시
3. 발표장 스크린에 공유

### 수상자 선정
- 평균 별점 상위 3팀 시상 (또는 N팀)
- 동점자는 함께 시상
- 투표 수가 너무 적은 팀은 제외 고려

## 행사 후 조치

### 데이터 보관
- 로컬 환경: 개별 투표 내역 CSV로 저장 (필요시)
- Vercel Postgres: 자동으로 데이터베이스에 저장

### 시스템 정리
- 로컬 서버 종료
- Git 커밋 (필요시)
- 다음 행사를 위해 `data/presentations.json` 백업

## 지원

추가 문의사항이나 문제가 있으면 개발자에게 연락하세요.

---

🤖 Generated with [Claude Code](https://claude.com/claude-code)
